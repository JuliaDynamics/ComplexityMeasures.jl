<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Visitation frequency · Entropies.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Entropies.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Documentation</a></li><li><a class="tocitem" href="../histogram_estimation/">Histograms</a></li><li><a class="tocitem" href="../probabilities/">Probabilities</a></li><li><a class="tocitem" href="../generalized_entropy/">Generalized entropy</a></li><li><span class="tocitem">Estimators</span><ul><li><a class="tocitem" href="../SymbolicPermutation/">Permutation (symbolic)</a></li><li><a class="tocitem" href="../SymbolicWeightedPermutation/">Weighted permutation (symbolic)</a></li><li class="is-active"><a class="tocitem" href>Visitation frequency</a><ul class="internal"><li><a class="tocitem" href="#Specifying-binning/boxes"><span>Specifying binning/boxes</span></a></li><li><a class="tocitem" href="#Utils"><span>Utils</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Estimators</a></li><li class="is-active"><a href>Visitation frequency</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Visitation frequency</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kahaaga/Entropies.jl/blob/master/docs/src/VisitationFrequency.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Visitation-frequency"><a class="docs-heading-anchor" href="#Visitation-frequency">Visitation frequency</a><a id="Visitation-frequency-1"></a><a class="docs-heading-anchor-permalink" href="#Visitation-frequency" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Entropies.VisitationFrequency" href="#Entropies.VisitationFrequency"><code>Entropies.VisitationFrequency</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">VisitationFrequency(r::RectangularBinning)</code></pre><p>A probability estimator based on binning data into rectangular boxes dictated by  the binning scheme <code>r</code>.</p><p>See also: <a href="#Entropies.RectangularBinning"><code>RectangularBinning</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/Entropies.jl/blob/df9175f10200749e9b50a0707fae4208abe554f4/src/binning_based/rectangular/VisitationFrequency.jl#L4-L11">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>entropy(x::Dataset, est::VisitationFrequency)</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="Entropies.probabilities-Tuple{Dataset,VisitationFrequency}" href="#Entropies.probabilities-Tuple{Dataset,VisitationFrequency}"><code>Entropies.probabilities</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Visitation frequency, binning based probabilities</strong></p><pre><code class="language-none">probabilities(x::Dataset, est::VisitationFrequency) → Vector{Real}</code></pre><p>Superimpose a rectangular grid (bins/boxes) dictated by <code>est</code> over the data <code>x</code> and return  the sum-normalized histogram (i.e. frequency at which the points of <code>x</code> visits the bins/boxes  in the grid) in an unordered 1D form, discarding all non-visited bins and bin edge information.</p><p><strong>Performances Notes</strong></p><p>This method has a linearithmic time complexity <code>(n log(n)</code> for <code>n = length(data)</code>) and a  linear space complexity <code>l</code> for <code>l = dimension(data)</code>). This allows computation of  histograms of high-dimensional datasets and with small box sizes ε without memory  overflow and with maximum performance.</p><p>See also: <a href="#Entropies.VisitationFrequency"><code>VisitationFrequency</code></a>, <a href="#Entropies.RectangularBinning"><code>RectangularBinning</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia">using Entropies, DelayEmbeddings
D = Dataset(rand(100, 3))

# How shall the data be partitioned? 
# Here, we subdivide each coordinate axis into 4 equal pieces
# over the range of the data, resulting in rectangular boxes/bins
ϵ = RectangularBinning(4)

# Feed partitioning instructions to estimator.
est = VisitationFrequency(ϵ)

# Estimate a probability distribution over the partition
probabilities(D, est)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/Entropies.jl/blob/df9175f10200749e9b50a0707fae4208abe554f4/src/binning_based/rectangular/VisitationFrequency.jl#L20-L55">source</a></section></article><h2 id="Specifying-binning/boxes"><a class="docs-heading-anchor" href="#Specifying-binning/boxes">Specifying binning/boxes</a><a id="Specifying-binning/boxes-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-binning/boxes" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Entropies.RectangularBinning" href="#Entropies.RectangularBinning"><code>Entropies.RectangularBinning</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RectangularBinning(ϵ) &lt;: RectangularBinningScheme</code></pre><p>Instructions for creating a rectangular box partition using the binning scheme <code>ϵ</code>.  Binning instructions are deduced from the type of <code>ϵ</code>.</p><p>Rectangular binnings may be automatically adjusted to the data in which the <code>RectangularBinning</code>  is applied, as follows:</p><ol><li><p><code>ϵ::Int</code> divides each coordinate axis into <code>ϵ</code> equal-length intervals,   extending the upper bound 1/100th of a bin size to ensure all points are covered.</p></li><li><p><code>ϵ::Float64</code> divides each coordinate axis into intervals of fixed size <code>ϵ</code>, starting   from the axis minima until the data is completely covered by boxes.</p></li><li><p><code>ϵ::Vector{Int}</code> divides the i-th coordinate axis into <code>ϵ[i]</code> equal-length   intervals, extending the upper bound 1/100th of a bin size to ensure all points are   covered.</p></li><li><p><code>ϵ::Vector{Float64}</code> divides the i-th coordinate axis into intervals of fixed size <code>ϵ[i]</code>, starting   from the axis minima until the data is completely covered by boxes.</p></li></ol><p>Rectangular binnings may also be specified on arbitrary min-max ranges. </p><ol><li><code>ϵ::Tuple{Vector{Tuple{Float64,Float64}},Int64}</code> creates intervals   along each coordinate axis from ranges indicated by a vector of <code>(min, max)</code> tuples, then divides   each coordinate axis into an integer number of equal-length intervals. <em>Note: this does not ensure   that all points are covered by the data (points outside the binning are ignored)</em>.</li></ol><p><strong>Example 1: Grid deduced automatically from data (partition guaranteed to cover data points)</strong></p><p><strong>Flexible box sizes</strong></p><p>The following binning specification finds the minima/maxima along each coordinate axis, then  split each of those data ranges (with some tiny padding on the edges) into <code>10</code> equal-length  intervals. This gives (hyper-)rectangular boxes, and works for data of any dimension.</p><pre><code class="language-julia">using Entropies
RectangularBinning(10)</code></pre><p>Now, assume the data consists of 2-dimensional points, and that we want a finer grid along one of the dimensions than over the other dimension.</p><p>The following binning specification finds the minima/maxima along each coordinate axis, then  splits the range along the first coordinate axis (with some tiny padding on the edges)  into <code>10</code> equal-length intervals, and the range along the second coordinate axis (with some  tiny padding on the edges) into <code>5</code> equal-length intervals. This gives (hyper-)rectangular boxes.</p><pre><code class="language-julia">using Entropies
RectangularBinning([10, 5])</code></pre><p><strong>Fixed box sizes</strong></p><p>The following binning specification finds the minima/maxima along each coordinate axis,  then split the axis ranges into equal-length intervals of fixed size <code>0.5</code> until the all data  points are covered by boxes. This approach yields (hyper-)cubic boxes, and works for  data of any dimension.</p><pre><code class="language-julia">using Entropies
RectangularBinning(0.5)</code></pre><p>Again, assume the data consists of 2-dimensional points, and that we want a finer grid along one of the dimensions than over the other dimension.</p><p>The following binning specification finds the minima/maxima along each coordinate axis, then splits the range along the first coordinate axis into equal-length intervals of size <code>0.3</code>, and the range along the second axis into equal-length intervals of size <code>0.1</code> (in both cases,  making sure the data are completely covered by the boxes). This approach gives a (hyper-)rectangular boxes. </p><pre><code class="language-julia">using Entropies
RectangularBinning([0.3, 0.1])</code></pre><p><strong>Example 2: Custom grids (partition not guaranteed to cover data points):</strong></p><p>Assume the data consists of 3-dimensional points <code>(x, y, z)</code>, and that we want a grid  that is fixed over the intervals <code>[x₁, x₂]</code> for the first dimension, over <code>[y₁, y₂]</code> for the second dimension, and over <code>[z₁, z₂]</code> for the third dimension. We when want to split each of those ranges into 4 equal-length pieces. <em>Beware: some points may fall  outside the partition if the intervals are not chosen properly (these points are  simply discarded)</em>. </p><p>The following binning specification produces the desired (hyper-)rectangular boxes. </p><pre><code class="language-julia">using Entropies, DelayEmbeddings

D = Dataset(rand(100, 3));

x₁, x₂ = 0.5, 1 # not completely covering the data, which are on [0, 1]
y₁, y₂ = -2, 1.5 # covering the data, which are on [0, 1]
z₁, z₂ = 0, 0.5 # not completely covering the data, which are on [0, 1]

ϵ = [(x₁, x₂), (y₁, y₂), (z₁, z₂)], 4 # [interval 1, interval 2, ...], n_subdivisions

RectangularBinning(ϵ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/Entropies.jl/blob/df9175f10200749e9b50a0707fae4208abe554f4/src/binning_based/rectangular/binning_schemes.jl#L26-L134">source</a></section></article><h2 id="Utils"><a class="docs-heading-anchor" href="#Utils">Utils</a><a id="Utils-1"></a><a class="docs-heading-anchor-permalink" href="#Utils" title="Permalink"></a></h2><p>Some convenience functions for symbolization are provided.</p><article class="docstring"><header><a class="docstring-binding" id="Entropies.encode_as_bin" href="#Entropies.encode_as_bin"><code>Entropies.encode_as_bin</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">encode_as_bin(point, reference_point, edgelengths) → Vector{Int}</code></pre><p>Encode a point into its integer bin labels relative to some <code>reference_point</code> (always counting from lowest to highest magnitudes), given a set of box  <code>edgelengths</code> (one for each axis). The first bin on the positive side of  the reference point is indexed with 0, and the first bin on the negative  side of the reference point is indexed with -1.</p><p>See also: <a href="#Entropies.joint_visits"><code>joint_visits</code></a>, <a href="#Entropies.marginal_visits"><code>marginal_visits</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia">using Entropies

refpoint = [0, 0, 0]
steps = [0.2, 0.2, 0.3]
encode_as_bin(rand(3), refpoint, steps)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/Entropies.jl/blob/df9175f10200749e9b50a0707fae4208abe554f4/src/binning_based/rectangular/count_box_visits.jl#L6-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Entropies.joint_visits" href="#Entropies.joint_visits"><code>Entropies.joint_visits</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">joint_visits(points, binning_scheme::RectangularBinning) → Vector{Vector{Int}}</code></pre><p>Determine which bins are visited by <code>points</code> given the rectangular binning scheme <code>ϵ</code>. Bins are referenced relative to the axis minima, and are  encoded as integers, such that each box in the binning is assigned a unique integer array (one element for each dimension). </p><p>For example, if a bin is visited three times, then the corresponding  integer array will appear three times in the array returned.</p><p>See also: <a href="#Entropies.marginal_visits"><code>marginal_visits</code></a>, <a href="#Entropies.encode_as_bin"><code>encode_as_bin</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia">using DelayEmbeddings, Entropies

pts = Dataset([rand(5) for i = 1:100]);
joint_visits(pts, RectangularBinning(0.2))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/Entropies.jl/blob/df9175f10200749e9b50a0707fae4208abe554f4/src/binning_based/rectangular/count_box_visits.jl#L50-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Entropies.marginal_visits" href="#Entropies.marginal_visits"><code>Entropies.marginal_visits</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">marginal_visits(points, binning_scheme::RectangularBinning, dims) → Vector{Vector{Int}}</code></pre><p>Determine which bins are visited by <code>points</code> given the rectangular binning scheme <code>ϵ</code>, but only along the desired dimensions <code>dims</code>. Bins are referenced  relative to the axis minima, and are encoded as integers, such that each box  in the binning is assigned a unique integer array (one element for each  dimension in <code>dims</code>). </p><p>For example, if a bin is visited three times, then the corresponding  integer array will appear three times in the array returned.</p><p>See also: <a href="#Entropies.joint_visits"><code>joint_visits</code></a>, <a href="#Entropies.encode_as_bin"><code>encode_as_bin</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia">using DelayEmbeddings, Entropies
pts = Dataset([rand(5) for i = 1:100]);

# Marginal visits along dimension 3 and 5
marginal_visits(pts, RectangularBinning(0.3), [3, 5])

# Marginal visits along dimension 2 through 5
marginal_visits(pts, RectangularBinning(0.3), 2:5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/Entropies.jl/blob/df9175f10200749e9b50a0707fae4208abe554f4/src/binning_based/rectangular/count_box_visits.jl#L78-L104">source</a></section><section><div><pre><code class="language-none">marginal_visits(joint_visits, dims) → Vector{Vector{Int}}</code></pre><p>If joint visits have been precomputed using <a href="#Entropies.joint_visits"><code>joint_visits</code></a>, marginal  visits can be returned directly without providing the binning again  using the <code>marginal_visits(joint_visits, dims)</code> signature.</p><p>See also: <a href="#Entropies.joint_visits"><code>joint_visits</code></a>, <a href="#Entropies.encode_as_bin"><code>encode_as_bin</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-none">using DelayEmbeddings, Entropies
pts = Dataset([rand(5) for i = 1:100]);

# First compute joint visits, then marginal visits along dimensions 1 and 4
jv = joint_visits(pts, RectangularBinning(0.2))
marginal_visits(jv, [1, 4])

# Marginals along dimension 2
marginal_visits(jv, 2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/Entropies.jl/blob/df9175f10200749e9b50a0707fae4208abe554f4/src/binning_based/rectangular/count_box_visits.jl#L119-L141">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../SymbolicWeightedPermutation/">« Weighted permutation (symbolic)</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 1 November 2020 01:57">Sunday 1 November 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
