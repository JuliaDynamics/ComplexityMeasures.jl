<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ComplexityMeasures.jl Dev Docs · ComplexityMeasures.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ComplexityMeasures.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">ComplexityMeasures.jl</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../probabilities/">Probabilities</a></li><li><a class="tocitem" href="../information_measures/">Information measures (entropies and co.)</a></li><li><a class="tocitem" href="../complexity/">Complexity measures</a></li><li><a class="tocitem" href="../convenience/">Convenience functions</a></li><li><a class="tocitem" href="../examples/">ComplexityMeasures.jl Examples</a></li><li class="is-active"><a class="tocitem" href>ComplexityMeasures.jl Dev Docs</a><ul class="internal"><li><a class="tocitem" href="#Adding-a-new-OutcomeSpace"><span>Adding a new <code>OutcomeSpace</code></span></a></li><li><a class="tocitem" href="#Adding-a-new-[ProbabilitiesEstimator](@ref)"><span>Adding a new <code>ProbabilitiesEstimator</code></span></a></li><li><a class="tocitem" href="#Adding-a-new-InformationMeasureEstimator"><span>Adding a new <code>InformationMeasureEstimator</code></span></a></li><li><a class="tocitem" href="#Adding-a-new-InformationMeasure"><span>Adding a new <code>InformationMeasure</code></span></a></li></ul></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ComplexityMeasures.jl Dev Docs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ComplexityMeasures.jl Dev Docs</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDynamics/ComplexityMeasures.jl/blob/main/docs/src/devdocs.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ComplexityMeasures.jl-Dev-Docs"><a class="docs-heading-anchor" href="#ComplexityMeasures.jl-Dev-Docs">ComplexityMeasures.jl Dev Docs</a><a id="ComplexityMeasures.jl-Dev-Docs-1"></a><a class="docs-heading-anchor-permalink" href="#ComplexityMeasures.jl-Dev-Docs" title="Permalink"></a></h1><p>Good practices in developing a code base apply in every Pull Request. The <a href="https://github.com/JuliaDynamics/GoodScientificCodeWorkshop">Good Scientific Code Workshop</a> is worth checking out for this.</p><p>All PRs contributing new functionality must be well tested and well documented. You only need to add tests for methods that you <strong>explicitly</strong> extended.</p><h2 id="Adding-a-new-OutcomeSpace"><a class="docs-heading-anchor" href="#Adding-a-new-OutcomeSpace">Adding a new <code>OutcomeSpace</code></a><a id="Adding-a-new-OutcomeSpace-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-new-OutcomeSpace" title="Permalink"></a></h2><h3 id="Mandatory-steps"><a class="docs-heading-anchor" href="#Mandatory-steps">Mandatory steps</a><a id="Mandatory-steps-1"></a><a class="docs-heading-anchor-permalink" href="#Mandatory-steps" title="Permalink"></a></h3><ol><li>Decide on the outcome space and how the estimator will map probabilities to outcomes.</li><li>Define your type and make it subtype <a href="../probabilities/#ComplexityMeasures.OutcomeSpace"><code>OutcomeSpace</code></a>.</li><li>Add a docstring to your type following the style of the docstrings of other estimators.</li><li>If suitable, the estimator may be able to operate based on <a href="../probabilities/#ComplexityMeasures.Encoding"><code>Encoding</code></a>s. If so,  it is preferred to implement an <code>Encoding</code> subtype and extend the methods  <a href="../probabilities/#ComplexityMeasures.encode"><code>encode</code></a> and <a href="../probabilities/#ComplexityMeasures.decode"><code>decode</code></a>. This will allow your outcome space to be used  with a larger span of entropy and complexity methods without additional effort.  Have a look at the file defining <a href="../probabilities/#ComplexityMeasures.OrdinalPatterns"><code>OrdinalPatterns</code></a> for an idea of how this  works.</li></ol><p>If your new outcome space is counting-based, then</p><ol><li>Implement dispatch for <a href="../probabilities/#ComplexityMeasures.counts"><code>counts</code></a> for your <a href="../probabilities/#ComplexityMeasures.OutcomeSpace"><code>OutcomeSpace</code></a>  type. This method should return a <a href="@ref"><code>Counts</code></a> instance (just a wrapper around a  <code>DimArray</code>). Follow existing implementations for guidelines, and ensure that  the outcomes are the dimension labels on the array. You&#39;ll then get  <a href="../probabilities/#ComplexityMeasures.counts_and_outcomes"><code>counts_and_outcomes</code></a> for free.</li><li>Implement dispatch for <a href="@ref"><code>symbolize</code></a>. This will ensure that the outcome space  also works automatically with any discrete estimators in CausalityTools.jl.</li></ol><p>If your new outcome space is not counting-based, then</p><ol><li>Implement dispatch for <a href="../probabilities/#ComplexityMeasures.probabilities"><code>probabilities</code></a> for your  <a href="../probabilities/#ComplexityMeasures.OutcomeSpace"><code>OutcomeSpace</code></a> type. This method should return a <a href="../probabilities/#ComplexityMeasures.Probabilities"><code>Probabilities</code></a>  instance (also just a wrapper around <code>DimArray</code> with the constraint that the  entries of the array must sum to 1). Follow existing implementations for guidelines, and ensure that the outcomes are the dimension labels on the probabilities array. You&#39;ll  then get the methods <a href="../probabilities/#ComplexityMeasures.probabilities_and_outcomes"><code>probabilities_and_outcomes</code></a> and <a href="../probabilities/#ComplexityMeasures.outcomes"><code>outcomes</code></a> for  free.</li></ol><p>Finally,</p><ol><li>Implement dispatch for <a href="../probabilities/#ComplexityMeasures.outcome_space"><code>outcome_space</code></a> and your <a href="../probabilities/#ComplexityMeasures.OutcomeSpace"><code>OutcomeSpace</code></a> type.  The return value of <code>outcome_space</code> must be sorted (as in the default behavior of  <code>sort</code>, in ascending order).</li><li>Add your outcome space type to the table list in the documentation page of outcome  space. If you made an encoding, also add it to corresponding table in the encodings  section.</li></ol><h3 id="Optional-steps"><a class="docs-heading-anchor" href="#Optional-steps">Optional steps</a><a id="Optional-steps-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-steps" title="Permalink"></a></h3><p>The following methods may be extended for your <a href="../probabilities/#ComplexityMeasures.OutcomeSpace"><code>OutcomeSpace</code></a> if doing so leads to performance benefits.</p><ol><li><a href="../probabilities/#ComplexityMeasures.total_outcomes"><code>total_outcomes</code></a>. By default it returns the <code>length</code> of <a href="../probabilities/#ComplexityMeasures.outcome_space"><code>outcome_space</code></a>.  This is the function that most typically has performance benefits if implemented  explicitly, so most existing estimators extend it by default.</li></ol><h2 id="Adding-a-new-[ProbabilitiesEstimator](@ref)"><a class="docs-heading-anchor" href="#Adding-a-new-[ProbabilitiesEstimator](@ref)">Adding a new <a href="../probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a></a><a id="Adding-a-new-[ProbabilitiesEstimator](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-new-[ProbabilitiesEstimator](@ref)" title="Permalink"></a></h2><h3 id="Mandatory-steps-2"><a class="docs-heading-anchor" href="#Mandatory-steps-2">Mandatory steps</a><a class="docs-heading-anchor-permalink" href="#Mandatory-steps-2" title="Permalink"></a></h3><ol><li>Define your type and make it subtype <a href="../probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a>.</li><li>Add a docstring to your type following the style of the docstrings of other  <a href="../probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a>s.</li><li>Implement dispatch for <a href="../probabilities/#ComplexityMeasures.probabilities"><code>probabilities</code></a> for your  <a href="../probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a> type. You&#39;ll then get  <a href="../probabilities/#ComplexityMeasures.probabilities_and_outcomes"><code>probabilities_and_outcomes</code></a> for free.</li><li>Implement dispatch for <a href="../probabilities/#ComplexityMeasures.allprobabilities"><code>allprobabilities</code></a> for your  <a href="../probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a> type. You&#39;ll then get  <a href="../probabilities/#ComplexityMeasures.allprobabilities_and_outcomes"><code>allprobabilities_and_outcomes</code></a> for free.</li><li>Add your new <a href="../probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a> type to the list of probabilities  estimators in the probabilities estimators documentation section.</li></ol><h2 id="Adding-a-new-InformationMeasureEstimator"><a class="docs-heading-anchor" href="#Adding-a-new-InformationMeasureEstimator">Adding a new <code>InformationMeasureEstimator</code></a><a id="Adding-a-new-InformationMeasureEstimator-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-new-InformationMeasureEstimator" title="Permalink"></a></h2><p>The type implementation should follow the declared API of <a href="#ComplexityMeasures.InformationMeasureEstimator"><code>InformationMeasureEstimator</code></a>. If the type is a discrete measure, then extend <code>information(e::YourType, p::Probabilities)</code>. If it is a differential measure, then extend <code>information(e::YourType, x::InputData)</code>.</p><article class="docstring"><header><a class="docstring-binding" id="ComplexityMeasures.InformationMeasureEstimator" href="#ComplexityMeasures.InformationMeasureEstimator"><code>ComplexityMeasures.InformationMeasureEstimator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InformationMeasureEstimator{I &lt;: InformationMeasure}</code></pre><p>The supertype of all information measure estimators. Its direct subtypes are <a href="../information_measures/#ComplexityMeasures.DiscreteInfoEstimator"><code>DiscreteInfoEstimator</code></a> and <a href="../information_measures/#ComplexityMeasures.DifferentialInfoEstimator"><code>DifferentialInfoEstimator</code></a>.</p><p>Since all estimators must reference a measure definition in some way, we made the following interface decisions:</p><ol><li>all estimators have as first type parameter <code>I &lt;: InformationMeasure</code></li><li>all estimators reference the information measure in a <code>definition</code> field</li><li>all estimators are defined using <code>Base.@kwdef</code> so that they may be initialized with the syntax <code>Estimator(; definition = Shannon())</code> (or any other).</li></ol><p>Any concrete subtypes must follow the above, e.g.:</p><pre><code class="language-julia hljs">Base.@kwdef struct MyEstimator{I &lt;: InformationMeasure, X} &lt;: DiscreteInfoEstimator{I}
    definition::I
    x::X
end</code></pre><div class="admonition is-info"><header class="admonition-header">Why separate the *definition* of a measure from *estimators* of a measure?</header><div class="admonition-body"><p>In real applications, we generally don&#39;t have access to the underlying probability mass functions or densities required to compute the various entropy or extropy definitons. Therefore, these information measures must be <em>estimated</em> from finite data. Estimating a particular measure (e.g. <a href="../information_measures/#ComplexityMeasures.Shannon"><code>Shannon</code></a> entropy) can be done in many ways, each with its own own pros and cons. We aim to provide a complete library of literature estimators of the various information measures (PRs are welcome!).</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/ComplexityMeasures.jl/blob/90a34549dc397ffd145249924237583086b01498/src/core/information_measures.jl#L58-L88">source</a></section></article><h2 id="Adding-a-new-InformationMeasure"><a class="docs-heading-anchor" href="#Adding-a-new-InformationMeasure">Adding a new <code>InformationMeasure</code></a><a id="Adding-a-new-InformationMeasure-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-new-InformationMeasure" title="Permalink"></a></h2><p>This amounts to adding a new definition of an information measure, not an estimator. It de-facto means adding a method for the discrete Plug-In estimator.</p><h3 id="Mandatory-steps-3"><a class="docs-heading-anchor" href="#Mandatory-steps-3">Mandatory steps</a><a class="docs-heading-anchor-permalink" href="#Mandatory-steps-3" title="Permalink"></a></h3><ol><li>Define your information measure definition type and make it subtype <a href="../information_measures/#ComplexityMeasures.InformationMeasure"><code>InformationMeasure</code></a>.</li><li>Implement dispatch for <a href="../information_measures/#ComplexityMeasures.information-Tuple{InformationMeasure, OutcomeSpace, Any}"><code>information</code></a><code>(def::YourType, p::Probabilities)</code>. This is the Plug-In estimator for the discrete measure.</li><li>Add a docstring to your type following the style of the docstrings of other information  measure definitions, and should include the mathematical definition of the measure.</li><li>Add your information measure definition type to the list of definitions in the  <code>docs/src/information_measures.md</code> documentation page.</li><li>Add a reference to your information measure definition in the docstring for  <a href="../information_measures/#ComplexityMeasures.InformationMeasure"><code>InformationMeasure</code></a>.</li></ol><h3 id="Optional-steps-2"><a class="docs-heading-anchor" href="#Optional-steps-2">Optional steps</a><a class="docs-heading-anchor-permalink" href="#Optional-steps-2" title="Permalink"></a></h3><ol><li>If the maximum value of your information measure type is analytically computable for a  probability distribution with a known number of elements, implementing dispatch for  <a href="../information_measures/#ComplexityMeasures.information_maximum"><code>information_maximum</code></a> automatically enables <a href="../information_measures/#ComplexityMeasures.information_normalized"><code>information_normalized</code></a>  for your type.</li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« ComplexityMeasures.jl Examples</a><a class="docs-footer-nextpage" href="../references/">References »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 6 October 2023 21:28">Friday 6 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
